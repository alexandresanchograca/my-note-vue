(()=>{"use strict";var e={7024:(e,n,t)=>{t(3792),t(3362),t(9085),t(9391);var r=t(5130),u=t(6768),a=t(4048),o=t(388),l=(t(4114),t(144)),i=t(4232),c=(t(6280),t(6918),t(6400)),s=t(8822),v=t(2621),d=t(7844),p={apiKey:"AIzaSyDT8G6-tLNkusP1UpAe8Ix5rqE_7Yjb4Ok",authDomain:"my-notes-app-224e4.firebaseapp.com",projectId:"my-notes-app-224e4",storageBucket:"my-notes-app-224e4.appspot.com",messagingSenderId:"447538367879",appId:"1:447538367879:web:ea462636db079dc6585722"},f=(0,c.Wp)(p),m=(0,v.xI)(f),h=(0,s.aU)(),k=((0,d.c7)(f),(0,l.KR)(null)),b=(0,l.KR)(!1),w=function(){var e=(0,o.A)((0,a.A)().mark((function e(n,t){var r;return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return k.value=null,b.value=!0,e.prev=2,e.next=5,(0,v.x9)(m,n,t);case 5:if(r=e.sent,r){e.next=8;break}throw new Error("Couldn't sign in...");case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e["catch"](2),k.value="Username or password are incorrect, please try again...";case 14:return e.prev=14,b.value=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(n,t){return e.apply(this,arguments)}}(),g=function(){var e=(0,o.A)((0,a.A)().mark((function e(n,t){var r;return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return k.value=null,b.value=!0,e.prev=2,e.next=5,(0,v.eJ)(m,n,t);case 5:if(r=e.sent,r){e.next=8;break}throw new Error("Couldn't sign up...");case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e["catch"](2),k.value=e.t0.message;case 14:return e.prev=14,b.value=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(n,t){return e.apply(this,arguments)}}(),y=function(){var e=(0,o.A)((0,a.A)().mark((function e(){return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return k.value=null,e.prev=1,e.next=4,(0,v.CI)(m);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](1),k.value=e.t0.message;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){return{error:k,isPending:b,login:w,logout:y,signup:g}};const C=A;var _=t(1387),x=(0,l.KR)(m.currentUser);(0,v.hg)(m,(function(e){x.value=e}));var L=function(){return{user:x}};const R=L;var D={class:"navbar"},E={class:"links"},X={key:0},K={class:"user-status"},V={key:1};const I={__name:"Navbar",setup:function(e){var n=C(),t=n.error,r=n.logout,c=(0,_.rd)(),s=R(),v=s.user,d=function(){var e=(0,o.A)((0,a.A)().mark((function e(){return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:if(e.sent,!t.value){e.next=5;break}return e.abrupt("return");case 5:c.push({name:"login"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,n){var t=(0,u.g2)("router-link");return(0,u.uX)(),(0,u.CE)("div",D,[(0,u.Lk)("nav",null,[(0,u.Lk)("h1",null,[(0,u.bF)(t,{to:{name:"home"}},{default:(0,u.k6)((function(){return[(0,u.eW)("My-Note")]})),_:1})]),(0,u.Lk)("div",E,[(0,l.R1)(v)?((0,u.uX)(),(0,u.CE)("div",X,[(0,u.bF)(t,{to:{name:"home"}},{default:(0,u.k6)((function(){return[(0,u.eW)("Forever Note")]})),_:1}),(0,u.bF)(t,{to:{name:"daily"}},{default:(0,u.k6)((function(){return[(0,u.eW)("Daily Notes")]})),_:1}),(0,u.bF)(t,{to:{name:"shared"}},{default:(0,u.k6)((function(){return[(0,u.eW)("Shared Notes")]})),_:1}),(0,u.Lk)("span",K,"Logged in "+(0,i.v_)((0,l.R1)(v).email),1),(0,u.Lk)("button",{onClick:d},"Logout")])):((0,u.uX)(),(0,u.CE)("div",V,[(0,u.bF)(t,{class:"btn",to:{name:"signup"}},{default:(0,u.k6)((function(){return[(0,u.eW)("Signup")]})),_:1}),(0,u.bF)(t,{class:"btn",to:{name:"login"}},{default:(0,u.k6)((function(){return[(0,u.eW)("Login")]})),_:1})]))])])])}}};var S=t(1241);const U=(0,S.A)(I,[["__scopeId","data-v-73b9ed20"]]),F=U;var Q={class:"content"};const P={__name:"App",setup:function(e){return function(e,n){var t=(0,u.g2)("router-view");return(0,u.uX)(),(0,u.CE)(u.FK,null,[(0,u.bF)(F),(0,u.Lk)("div",Q,[(0,u.bF)(t)])],64)}}},J=P,j=J;t(3288),t(8706);var W=function(e,n){var t=(0,l.KR)(""),r=(0,l.KR)(!1),i=function(r,a){t.value="";var o=(0,l.KR)(null),i=e,c=r;n&&a&&(i="".concat(e,"/").concat(r,"/").concat(n),c=a);var v=(0,s.H9)(h,i,c),d=(0,s.aQ)(v,(function(e){o.value=e.data()}));return(0,u.nT)((function(e){e((function(){return d()}))})),{document:o}},c=function(){var u=(0,o.A)((0,a.A)().mark((function u(o,l){var i,c,v;return(0,a.A)().wrap((function(u){while(1)switch(u.prev=u.next){case 0:return t.value="",r.value=!0,u.prev=2,i=e,c=o,n&&l&&(i="".concat(e,"/").concat(o,"/").concat(n),c=l),v=(0,s.H9)(h,i,c),u.next=9,(0,s.x7)(v);case 9:return u.abrupt("return",u.sent);case 12:u.prev=12,u.t0=u["catch"](2),t.value="Couldn't retrieve note, try again later...";case 15:return u.prev=15,r.value=!1,u.finish(15);case 18:case"end":return u.stop()}}),u,null,[[2,12,15,18]])})));return function(e,n){return u.apply(this,arguments)}}(),v=function(){var n=(0,o.A)((0,a.A)().mark((function n(u){return(0,a.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.value="",r.value=!0,n.prev=2,n.next=5,(0,s.gS)((0,s.rJ)(h,e),u);case 5:return n.abrupt("return",n.sent);case 8:n.prev=8,n.t0=n["catch"](2),t.value=n.t0.message;case 11:return n.prev=11,r.value=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[2,8,11,14]])})));return function(e){return n.apply(this,arguments)}}(),d=function(){var u=(0,o.A)((0,a.A)().mark((function u(o,l,i){var c,v,d;return(0,a.A)().wrap((function(u){while(1)switch(u.prev=u.next){case 0:return t.value="",r.value=!0,u.prev=2,c=e,v=o,n&&i&&(c="".concat(e,"/").concat(o,"/").concat(n),v=i),d=(0,s.H9)(h,c,v),u.next=9,(0,s.BN)(d,l);case 9:return u.abrupt("return",u.sent);case 12:u.prev=12,u.t0=u["catch"](2),t.value=u.t0.message;case 15:return u.prev=15,r.value=!1,u.finish(15);case 18:case"end":return u.stop()}}),u,null,[[2,12,15,18]])})));return function(e,n,t){return u.apply(this,arguments)}}(),p=function(){var u=(0,o.A)((0,a.A)().mark((function u(o,l){var i,c,v;return(0,a.A)().wrap((function(u){while(1)switch(u.prev=u.next){case 0:return t.value="",r.value=!0,u.prev=2,i=e,c=o,n&&l&&(i="".concat(e,"/").concat(o,"/").concat(n),c=l),v=(0,s.H9)(h,i,c),u.next=9,(0,s.kd)(v);case 9:return u.abrupt("return",u.sent);case 12:u.prev=12,u.t0=u["catch"](2),t.value=u.t0.message;case 15:return u.prev=15,r.value=!1,u.finish(15);case 18:case"end":return u.stop()}}),u,null,[[2,12,15,18]])})));return function(e,n){return u.apply(this,arguments)}}(),f=function(){var n=(0,o.A)((0,a.A)().mark((function n(u,o){var l;return(0,a.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.value="",r.value=!0,n.prev=2,l=(0,s.H9)(h,e,u),n.next=6,(0,s.mZ)(l,o);case 6:return n.abrupt("return",n.sent);case 9:n.prev=9,n.t0=n["catch"](2),t.value=n.t0.message;case 12:return n.prev=12,r.value=!1,n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[2,9,12,15]])})));return function(e,t){return n.apply(this,arguments)}}();return{getDocument:c,getDocumentRealtime:i,addDocument:v,setDocument:d,deleteDocument:p,updateDocument:f,error:t,isPending:r}};const N=W;var O=t(1274),B=function(e){return(0,u.Qi)("data-v-0c5672f2"),e=e(),(0,u.jt)(),e},T={class:"note-content"},q={class:"saved-status"},H=B((function(){return(0,u.Lk)("label",{class:"note-label"},"Forever note:",-1)})),M={key:0},$={key:1},G={key:2,disabled:""};const z={__name:"PersistentNote",setup:function(e){var n=(0,l.KR)(""),t=(0,l.KR)(!0),c=(0,l.KR)(!1),s=(0,_.rd)(),v=R(),d=v.user,p=N("notes"),f=(p.getDocument,p.getDocumentRealtime),m=p.setDocument,h=(p.deleteDocument,p.updateDocument,p.error),k=p.isPending,b=function(){var e=(0,o.A)((0,a.A)().mark((function e(){var r;return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={payload:n.value,modifiedAt:O.Dc.fromDate(new Date)},e.next=3,m(d.value.uid,r);case 3:if(!h.value){e.next=5;break}return e.abrupt("return");case 5:t.value=!0;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.A)((0,a.A)().mark((function e(){return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:console.log("waht",n.value),s.push({name:"viewer",state:{payload:n.value}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.KC)((function(){var e=f(d.value.uid),r=e.document;(0,u.wB)(r,(function(){c.value=!0,n.value=r.value.payload})),(0,u.wB)(n,(function(){c.value?c.value=!1:t.value=!1}))})),function(e,a){return(0,u.uX)(),(0,u.CE)("div",T,[(0,u.Lk)("button",{onClick:w},"View in markdown"),(0,u.Lk)("form",{onSubmit:(0,r.D$)(b,["prevent"])},[(0,u.bo)((0,u.Lk)("h4",q,"Unsaved note",512),[[r.aG,!t.value]]),H,(0,u.bo)((0,u.Lk)("textarea",{"onUpdate:modelValue":a[0]||(a[0]=function(e){return n.value=e})},null,512),[[r.Jo,n.value]]),(0,l.R1)(h)?((0,u.uX)(),(0,u.CE)("div",M,(0,i.v_)((0,l.R1)(h)),1)):(0,u.Q3)("",!0),(0,l.R1)(k)?((0,u.uX)(),(0,u.CE)("button",G,"Saving...")):((0,u.uX)(),(0,u.CE)("button",$,"Save"))],32)])}}},Y=(0,S.A)(z,[["__scopeId","data-v-0c5672f2"]]),Z=Y,ee={__name:"HomeView",setup:function(e){return function(e,n){return(0,u.uX)(),(0,u.Wv)(Z)}}},ne=ee,te=ne;var re=function(e){return(0,u.Qi)("data-v-2f3a76c7"),e=e(),(0,u.jt)(),e},ue={class:"welcome"},ae=re((function(){return(0,u.Lk)("h3",null,"Login",-1)})),oe={key:0,class:"error"},le={key:1},ie={key:2,disabled:""},ce=re((function(){return(0,u.Lk)("div",null,null,-1)}));const se={__name:"LoginView",setup:function(e){var n=(0,l.KR)(""),t=(0,l.KR)(""),c=(0,_.rd)(),s=C(),v=s.error,d=s.isPending,p=s.login,f=function(){var e=(0,o.A)((0,a.A)().mark((function e(){return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p(n.value,t.value);case 2:if(e.sent,!v.value){e.next=6;break}return console.log(v.value),e.abrupt("return");case 6:return e.next=8,c.push({name:"home"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,a){var o=(0,u.g2)("router-link");return(0,u.uX)(),(0,u.CE)("div",ue,[(0,u.Lk)("form",{onSubmit:(0,r.D$)(f,["prevent"])},[ae,(0,u.bo)((0,u.Lk)("input",{type:"email",placeholder:"email","onUpdate:modelValue":a[0]||(a[0]=function(e){return n.value=e}),required:""},null,512),[[r.Jo,n.value]]),(0,u.bo)((0,u.Lk)("input",{type:"password",placeholder:"password","onUpdate:modelValue":a[1]||(a[1]=function(e){return t.value=e}),required:""},null,512),[[r.Jo,t.value]]),(0,u.Lk)("p",null,[(0,u.eW)(" Not a user yet? "),(0,u.bF)(o,{class:"welcome-alt",to:"signup"},{default:(0,u.k6)((function(){return[(0,u.eW)("Signup now!")]})),_:1})]),(0,l.R1)(v)?((0,u.uX)(),(0,u.CE)("p",oe,(0,i.v_)((0,l.R1)(v)),1)):(0,u.Q3)("",!0),(0,l.R1)(d)?((0,u.uX)(),(0,u.CE)("button",ie,"Logging in...")):((0,u.uX)(),(0,u.CE)("button",le,"Login"))],32),ce])}}},ve=(0,S.A)(se,[["__scopeId","data-v-2f3a76c7"]]),de=ve;var pe=function(e){return(0,u.Qi)("data-v-8172d972"),e=e(),(0,u.jt)(),e},fe={class:"welcome"},me=pe((function(){return(0,u.Lk)("h3",null,"Sign up",-1)})),he={key:0},ke={key:1,disabled:""};const be={__name:"SignupView",setup:function(e){var n=(0,l.KR)(""),t=(0,l.KR)(""),i=(0,_.rd)(),c=C(),s=c.error,v=c.isPending,d=c.signup,p=function(){var e=(0,o.A)((0,a.A)().mark((function e(){return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d(n.value,t.value);case 2:if(e.sent,!s.value){e.next=6;break}return console.log(s.value),e.abrupt("return");case 6:i.push({name:"home"});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,a){var o=(0,u.g2)("router-link");return(0,u.uX)(),(0,u.CE)("div",fe,[(0,u.Lk)("form",{onSubmit:(0,r.D$)(p,["prevent"])},[me,(0,u.bo)((0,u.Lk)("input",{type:"email",placeholder:"email","onUpdate:modelValue":a[0]||(a[0]=function(e){return n.value=e}),required:""},null,512),[[r.Jo,n.value]]),(0,u.bo)((0,u.Lk)("input",{type:"password",placeholder:"password","onUpdate:modelValue":a[1]||(a[1]=function(e){return t.value=e}),required:""},null,512),[[r.Jo,t.value]]),(0,u.Lk)("p",null,[(0,u.eW)(" Already a user? "),(0,u.bF)(o,{class:"welcome-alt",to:"login"},{default:(0,u.k6)((function(){return[(0,u.eW)("Login now!")]})),_:1})]),(0,l.R1)(v)?((0,u.uX)(),(0,u.CE)("button",ke,"Signing up...")):((0,u.uX)(),(0,u.CE)("button",he,"Signup"))],32)])}}},we=(0,S.A)(be,[["__scopeId","data-v-8172d972"]]),ge=we;var ye=function(e){return(0,u.Qi)("data-v-6e747ab5"),e=e(),(0,u.jt)(),e},Ae={key:0,class:"saved-status"},Ce=ye((function(){return(0,u.Lk)("label",{class:"note-label"},"Daily Note:",-1)})),_e={key:1},xe={key:2},Le={key:3,disabled:""};const Re={__name:"DailyNote",props:["selectedDate","wasViewClicked"],setup:function(e){var n=e,t=(0,l.KR)(""),c=(0,l.KR)(!0),s=(0,l.KR)(!0),v=(0,l.KR)(!1),d=R(),p=d.user,f=N("notes","daily"),m=f.getDocumentRealtime,h=f.setDocument,k=f.deleteDocument,b=f.error,w=f.isPending,g=(0,_.rd)(),y=function(){var e=(0,o.A)((0,a.A)().mark((function e(){var r;return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.value){e.next=8;break}return e.next=3,k(p.value.uid,n.selectedDate);case 3:if(!b.value){e.next=5;break}return e.abrupt("return");case 5:c.value=!0,e.next=14;break;case 8:return r={payload:t.value},e.next=11,h(p.value.uid,r,n.selectedDate);case 11:if(!b.value){e.next=13;break}return e.abrupt("return");case 13:c.value=!0;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=null,C=function(){var e=m(p.value.uid,n.selectedDate),r=e.document;A&&A(),A=(0,u.wB)(r,(function(){v.value=!0,r.value?t.value=r.value.payload:t.value=""})),s.value=!0,c.value=!0},x=function(){var e=(0,o.A)((0,a.A)().mark((function e(){return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:g.push({name:"viewer",state:{payload:t.value}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){n.wasViewClicked?x():C()};return(0,u.KC)((function(){(0,u.wB)(n,L);(0,u.wB)(t,(function(){s.value||v.value?(s.value=!1,v.value=!1):c.value=!1}))})),function(e,n){return(0,u.uX)(),(0,u.CE)("form",{onSubmit:(0,r.D$)(y,["prevent"])},[c.value?(0,u.Q3)("",!0):((0,u.uX)(),(0,u.CE)("h4",Ae,"Unsaved note")),Ce,(0,u.bo)((0,u.Lk)("textarea",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return t.value=e})},null,512),[[r.Jo,t.value]]),(0,l.R1)(b)?((0,u.uX)(),(0,u.CE)("div",_e,(0,i.v_)((0,l.R1)(b)),1)):(0,u.Q3)("",!0),(0,l.R1)(w)?((0,u.uX)(),(0,u.CE)("button",Le,"Saving...")):((0,u.uX)(),(0,u.CE)("button",xe,"Save"))],32)}}},De=(0,S.A)(Re,[["__scopeId","data-v-6e747ab5"]]),Ee=De;t(1688);var Xe=t(9479),Ke=t(8653),Ve=t(9258),Ie=(t(2062),function(){var e=function(){var e=(0,o.A)((0,a.A)().mark((function e(n){var t,r,u,o,i;return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(0,l.KR)(null),r=(0,l.KR)([]),e.prev=2,u=(0,s.rJ)(h,n),o=(0,s.P)(u),e.next=7,(0,s.GG)(o);case 7:return i=e.sent,r.value=i.docs.map((function(e){return e.id})),e.abrupt("return",{iDs:r.value});case 12:e.prev=12,e.t0=e["catch"](2),t.value=e.t0.message;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}(),n=function(e){var n=(0,l.KR)(null),t=(0,l.KR)([]),r=(0,s.rJ)(h,e),a=(0,s.P)(r),o=(0,s.aQ)(a,(function(e){t.value=e.docs.map((function(e){return e.id}))}),(function(e){n.value=e.message}));return(0,u.nT)((function(e){e((function(){return o()}))})),{documentIds:t,error:n}},t=function(e,n,t){var r=(0,l.KR)(null),a=(0,l.KR)([]),o=(0,s.rJ)(h,e),i=(0,s.P)(o);n&&t&&(i=(0,s.P)(o,(0,s.or)(s._M.apply(void 0,(0,Ve.A)(n)),s._M.apply(void 0,(0,Ve.A)(t)))));var c=(0,s.aQ)(i,(function(e){a.value=e.docs.map((function(e){return(0,Ke.A)((0,Ke.A)({},e.data()),{},{id:e.id})}))}),(function(e){console.log(e.message),r.value=e.message}));return(0,u.nT)((function(e){e((function(){return c()}))})),{documents:a,error:r}};return{getDocumentIds:e,getDocumentIdsRealtime:n,getDocuments:t}});const Se=Ie;var Ue={class:"note-calendar"};const Fe={__name:"NoteCalendar",emits:["changedDate"],setup:function(e,n){var t=n.emit,r=(0,l.KR)(new Date),a=(0,l.KR)(null),o=(0,l.KR)(r.value.toISOString().substring(0,10)),i=R(),c=i.user,s=t,v=Se(),d=v.getDocumentIdsRealtime,p=function(){o.value=r.value.toISOString().substring(0,10),s("changedDate",o.value)},f=d("notes/".concat(c.value.uid,"/daily")),m=f.documentIds;return(0,u.wB)(m,(function(){a.value=[{dot:!0,dates:m.value}]})),(0,u.sV)(p),function(e,n){return(0,u.uX)(),(0,u.CE)("div",Ue,[(0,u.bF)((0,l.R1)(Xe.lr),{transparent:"",onClick:p,attributes:a.value,modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return r.value=e}),"is-required":!0},null,8,["attributes","modelValue"])])}}},Qe=Fe,Pe=Qe;var Je={class:"daily-content"},je={class:"daily-notes"};const We={__name:"DailyView",setup:function(e){var n=(0,l.KR)(null),t=(0,l.KR)(!1),r=function(e){n.value=e};return function(e,a){return(0,u.uX)(),(0,u.CE)("div",Je,[(0,u.Lk)("button",{onClick:a[0]||(a[0]=function(e){return t.value=!0})},"View in markdown"),(0,u.Lk)("div",je,[(0,u.bF)(Pe,{class:"calendar-col",onChangedDate:r}),(0,u.bF)(Ee,{class:"note-col",selectedDate:n.value,wasViewClicked:t.value},null,8,["selectedDate","wasViewClicked"])])])}}},Ne=(0,S.A)(We,[["__scopeId","data-v-9fd13ecc"]]),Oe=Ne;var Be=function(e){return(0,u.Qi)("data-v-718fcee2"),e=e(),(0,u.jt)(),e},Te={key:0,id:"shared-notes"},qe=["onClick"],He=Be((function(){return(0,u.Lk)("i",{class:"fa-solid fa-trash"},null,-1)})),Me=[He],$e={key:1},Ge=Be((function(){return(0,u.Lk)("i",{class:"fa-solid fa-user"},null,-1)})),ze={key:0},Ye=Be((function(){return(0,u.Lk)("i",{class:"fa-solid fa-user"},null,-1)})),Ze={class:"note-title"},en=["onClick"];const nn={__name:"SharedView",setup:function(e){var n=(0,_.rd)(),t=Se(),r=t.getDocuments,c=N("shared-notes"),s=c.deleteDocument,v=R(),d=v.user,p=r("shared-notes",["users","array-contains",d.value.email],["owner","==",d.value.email]),f=p.documents,m=(p.error,function(e){return e.owner===d.value.email}),h=function(){n.push({name:"create"})},k=function(){var e=(0,o.A)((0,a.A)().mark((function e(n){return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s(n.id);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(e){n.push({name:"note",params:{id:e.id}})};return function(e,n){return(0,l.R1)(f)?((0,u.uX)(),(0,u.CE)("div",Te,[(0,u.Lk)("button",{class:"btn",onClick:h},"Create note"),((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,l.R1)(f),(function(e){return(0,u.uX)(),(0,u.CE)("div",{key:e.title,class:"note"},[m(e)?((0,u.uX)(),(0,u.CE)("button",{key:0,class:"delete item-btn",onClick:function(n){return k(e)}},Me,8,qe)):(0,u.Q3)("",!0),e.users?((0,u.uX)(),(0,u.CE)("ul",$e,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(e.users,(function(e){return(0,u.uX)(),(0,u.CE)("li",{key:e},[Ge,(0,u.eW)(" "+(0,i.v_)(e),1)])})),128)),e.users.length>3?((0,u.uX)(),(0,u.CE)("li",ze,[Ye,(0,u.eW)(" ... ")])):(0,u.Q3)("",!0)])):(0,u.Q3)("",!0),(0,u.Lk)("div",Ze,[(0,u.Lk)("h3",null,(0,i.v_)(e.title),1)]),(0,u.Lk)("button",{class:"view item-btn",onClick:function(n){return b(e)}},"View",8,en)])})),128))])):(0,u.Q3)("",!0)}}},tn=(0,S.A)(nn,[["__scopeId","data-v-718fcee2"]]),rn=tn;t(2008),t(4423),t(2712),t(6099),t(1699);var un={class:"shared-users-container"},an=["for"],on=["name","onUpdate:modelValue","placeholder"];const ln={__name:"AddUsers",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup:function(e){var n=(0,u.fn)(e,"modelValue"),t=function(){n.value.push("")};return function(e,a){return(0,u.uX)(),(0,u.CE)("div",un,[n.value.length?((0,u.uX)(),(0,u.CE)("button",{key:1,class:"add-user",onClick:t},"+ Add user")):((0,u.uX)(),(0,u.CE)("button",{key:0,onClick:t}," Share with user ")),n.value.length?((0,u.uX)(),(0,u.CE)("form",{key:2,onSubmit:a[0]||(a[0]=(0,r.D$)((function(){}),["prevent"]))},[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(n.value,(function(e,t){return(0,u.uX)(),(0,u.CE)("div",{key:t,class:"shared-user"},[(0,u.Lk)("label",{for:"email-".concat(t)},"User Email:",8,an),(0,u.bo)((0,u.Lk)("input",{name:"email-".concat(t),type:"email","onUpdate:modelValue":function(e){return n.value[t]=e},placeholder:"user_".concat(t,"@mail.com")},null,8,on),[[r.Jo,n.value[t]]])])})),128))],32)):(0,u.Q3)("",!0)])}}},cn=(0,S.A)(ln,[["__scopeId","data-v-27886726"]]),sn=cn;var vn=function(e){return(0,u.Qi)("data-v-495ab52e"),e=e(),(0,u.jt)(),e},dn={class:"note-content"},pn={class:"title-container"},fn=vn((function(){return(0,u.Lk)("label",{class:"title-label"},"Title:",-1)})),mn=vn((function(){return(0,u.Lk)("label",{class:"note-label"},"Payload:",-1)})),hn={key:0},kn={key:1},bn={key:2,disabled:""};const wn={__name:"CreateView",setup:function(e){var n=(0,_.rd)(),t=R(),c=t.user,s=(0,l.KR)({title:"",payload:"",owner:c.value.email,users:[]}),v=(0,l.KR)([]),d=N("shared-notes"),p=d.addDocument,f=d.error,m=d.isPending,h=function(){var e=(0,o.A)((0,a.A)().mark((function e(){var t;return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.value.users=v.value.filter((function(e){return e.length})).reduce((function(e,n){return e.includes(n)||e.push(n),e}),[]),t=(0,Ke.A)((0,Ke.A)({},s.value),{},{modifiedAt:O.Dc.fromDate(new Date)}),e.next=4,p(t);case 4:if(!f.value){e.next=6;break}return e.abrupt("return");case 6:n.push({name:"shared"});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,n){return(0,u.uX)(),(0,u.CE)("div",dn,[(0,u.bF)(sn,{modelValue:v.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return v.value=e})},null,8,["modelValue"]),(0,u.Lk)("form",{onSubmit:(0,r.D$)(h,["prevent"])},[(0,u.Lk)("div",pn,[fn,(0,u.bo)((0,u.Lk)("input",{class:"title-label","onUpdate:modelValue":n[1]||(n[1]=function(e){return s.value.title=e}),required:""},null,512),[[r.Jo,s.value.title]])]),mn,(0,u.bo)((0,u.Lk)("textarea",{"onUpdate:modelValue":n[2]||(n[2]=function(e){return s.value.payload=e})},null,512),[[r.Jo,s.value.payload]]),(0,l.R1)(f)?((0,u.uX)(),(0,u.CE)("div",hn,(0,i.v_)((0,l.R1)(f)),1)):(0,u.Q3)("",!0),(0,l.R1)(m)?((0,u.uX)(),(0,u.CE)("button",bn,"Saving...")):((0,u.uX)(),(0,u.CE)("button",kn,"Create"))],32)])}}},gn=(0,S.A)(wn,[["__scopeId","data-v-495ab52e"]]),yn=gn;var An=t(6824),Cn=t(1017),_n=t.n(Cn),xn=(t(7316),t(924),t(5140),t(6847),{class:"markdown-view"}),Ln=["innerHTML"];const Rn={__name:"MarkdownView",setup:function(e){var n=(0,l.KR)(""),t=(0,l.KR)(""),r=(0,_.rd)();An.xI.use({highlight:function(e,n){return _n().languages[n]?_n().highlight(e,_n().languages[n],n):e}}),(0,u.sV)((function(){history.state.payload&&(n.value=history.state.payload,t.value=An.xI.parse(n.value),_n().highlightAll())}));var a=function(){r.go(-1)};return function(e,n){return(0,u.uX)(),(0,u.CE)(u.FK,null,[(0,u.Lk)("button",{onClick:a},"Back"),(0,u.Lk)("div",xn,[(0,u.Lk)("div",{class:"line-numbers language-markup",innerHTML:t.value},null,8,Ln)])],64)}}},Dn=Rn,En=Dn;var Xn=function(e){return(0,u.Qi)("data-v-209c2bb6"),e=e(),(0,u.jt)(),e},Kn={class:"note-content"},Vn={class:"saved-status"},In={class:"title-container"},Sn=Xn((function(){return(0,u.Lk)("label",{class:"title-label"},"Title:",-1)})),Un=Xn((function(){return(0,u.Lk)("label",{class:"note-label"},"Payload:",-1)})),Fn={key:0},Qn={key:1},Pn={key:2,disabled:""};const Jn={__name:"SharedNote",props:["noteId"],setup:function(e){var n=e,t=(0,l.KR)(""),c=(0,l.KR)(!0),s=(0,l.KR)(!1),v=(0,_.rd)(),d=R(),p=(d.user,N("shared-notes")),f=p.getDocumentRealtime,m=p.setDocument,h=(p.deleteDocument,p.error),k=p.isPending,b=function(){var e=(0,o.A)((0,a.A)().mark((function e(){var r;return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.value.users=t.value.users.filter((function(e){return e.length})).reduce((function(e,n){return e.includes(n)||e.push(n),e}),[]),r=(0,Ke.A)((0,Ke.A)({},t.value),{},{modifiedAt:O.Dc.fromDate(new Date)}),e.next=4,m(n.noteId,r);case 4:if(!h.value){e.next=6;break}return e.abrupt("return");case 6:c.value=!0;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.A)((0,a.A)().mark((function e(){return(0,a.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:v.push({name:"viewer",state:{payload:t.value.payload}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.KC)((function(){var e=f(n.noteId),r=e.document;(0,u.wB)(r,(function(){s.value=!0,t.value=r.value})),(0,u.wB)(t,(function(){s.value?s.value=!1:c.value=!1}))})),function(e,n){return(0,u.uX)(),(0,u.CE)("div",Kn,[(0,u.Lk)("button",{onClick:w},"View in markdown"),t.value?((0,u.uX)(),(0,u.Wv)(sn,{key:0,modelValue:t.value.users,"onUpdate:modelValue":n[0]||(n[0]=function(e){return t.value.users=e})},null,8,["modelValue"])):(0,u.Q3)("",!0),(0,u.Lk)("form",{onSubmit:(0,r.D$)(b,["prevent"])},[(0,u.bo)((0,u.Lk)("h4",Vn,"Unsaved note",512),[[r.aG,!c.value]]),(0,u.Lk)("div",In,[Sn,(0,u.bo)((0,u.Lk)("input",{class:"title-label","onUpdate:modelValue":n[1]||(n[1]=function(e){return t.value.title=e}),required:""},null,512),[[r.Jo,t.value.title]])]),Un,(0,u.bo)((0,u.Lk)("textarea",{"onUpdate:modelValue":n[2]||(n[2]=function(e){return t.value.payload=e})},null,512),[[r.Jo,t.value.payload]]),(0,l.R1)(h)?((0,u.uX)(),(0,u.CE)("div",Fn,(0,i.v_)((0,l.R1)(h)),1)):(0,u.Q3)("",!0),(0,l.R1)(k)?((0,u.uX)(),(0,u.CE)("button",Pn,"Saving...")):((0,u.uX)(),(0,u.CE)("button",Qn,"Save"))],32)])}}},jn=(0,S.A)(Jn,[["__scopeId","data-v-209c2bb6"]]),Wn=jn;var Nn={key:0};const On={__name:"NoteView",props:["id"],setup:function(e){return function(n,t){return e.id?((0,u.uX)(),(0,u.CE)("div",Nn,[(0,u.bF)(Wn,{noteId:e.id},null,8,["noteId"])])):(0,u.Q3)("",!0)}}},Bn=On,Tn=Bn;function qn(e,n,t){m.currentUser?t():t({name:"login"})}var Hn=[{path:"/",name:"home",component:te,beforeEnter:qn},{path:"/daily",name:"daily",component:Oe},{path:"/shared",name:"shared",component:rn},{path:"/create",name:"create",component:yn},{path:"/viewer",name:"viewer",component:En},{path:"/note/:id",name:"note",component:Tn,props:!0},{path:"/login",name:"login",component:de},{path:"/signup",name:"signup",component:ge}],Mn=(0,_.aE)({history:(0,_.LA)("/"),routes:Hn});const $n=Mn;var Gn=null;(0,v.hg)(m,(function(e){Gn||(Gn=(0,r.Ef)(j).use($n).mount("#app"))}))}},n={};function t(r){var u=n[r];if(void 0!==u)return u.exports;var a=n[r]={exports:{}};return e[r].call(a.exports,a,a.exports,t),a.exports}t.m=e,(()=>{var e=[];t.O=(n,r,u,a)=>{if(!r){var o=1/0;for(s=0;s<e.length;s++){for(var[r,u,a]=e[s],l=!0,i=0;i<r.length;i++)(!1&a||o>=a)&&Object.keys(t.O).every((e=>t.O[e](r[i])))?r.splice(i--,1):(l=!1,a<o&&(o=a));if(l){e.splice(s--,1);var c=u();void 0!==c&&(n=c)}}return n}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[r,u,a]}})(),(()=>{t.n=e=>{var n=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(n,{a:n}),n}})(),(()=>{t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{var e={524:0};t.O.j=n=>0===e[n];var n=(n,r)=>{var u,a,[o,l,i]=r,c=0;if(o.some((n=>0!==e[n]))){for(u in l)t.o(l,u)&&(t.m[u]=l[u]);if(i)var s=i(t)}for(n&&n(r);c<o.length;c++)a=o[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(s)},r=self["webpackChunkmy_note_app"]=self["webpackChunkmy_note_app"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var r=t.O(void 0,[504],(()=>t(7024)));r=t.O(r)})();
//# sourceMappingURL=app.02aaee7c.js.map